# CH8　




### 水上_議論したいこと
- 8章と関係ないけど気になったこと
    - Y案件で、ファイルの操作時に排他制御を掛けていることが業務上要求されている。  
    なので、ファイル操作entityの生成時の不変条件が「排他制御を掛けていること」になると考えている。  
    ただ、Dto -> entity 時に操作するのであれば、ControllerからRepositoryにアクセスしてしまうので、違和感を感じている。  
    また、生成を Controller ではなく Service にすると、 Service に dto を渡す必要があるので、Controllerの知識がServiceに漏れてしまう。  
    ライフサイクルの生成タイミングが違うから、そもそも排他制御は不変条件ではない？
=> 基本、排他制御は集約で実現すると思うので、排他制御をテーブルロック出かけるという発想自体が微妙＜＝COBOL臭

### 高木_議論したいこと
細かいリファクタリング（技術的）を継続的にやることで
ドメインに対する知識が高まる　　
＝＞　　急にコアドメインモデルの改善に気づく　　　　
＝＞　金がかかるが許容されるのか  　
=> 自分　だったら「いけます」とはいえないかも  　

* シェアパイの考え方がわからない、コードで表現できない、誰かコードにして欲しいですお願いします

