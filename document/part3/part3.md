# part3

ドメインについての深い理解を捉えたモデルが目標
第３部では、この目標が達成されるまでのプロセスを記述する

---
### リファクタリングのレベル

- 洗練されたドメインモデルを作ることは可能で、苦労して実現する価値がある
- そうしたモデル開発に欠かせないのが、リファクタリングを行うイテレーティブなプロセス
- リファクタリング = 機能を変更しないで行うソフトウェアの再設計
- リファクタリング
    - 継続的に進めるべきリファクタリング
        - コードを読みやすくする
        - 詳細なレベルで機能を追加しやすくする
        - デザインパターンに向けたリファクタリング
        - マイクロリファクタリング
        - 多くのリファクタリングの方法に関する文献は、こちら
    - より深いレベルへのリファクタリング
        - コードを通してモデルの表現を明確にする
        - システムの活力に最も大きく影響する
- Martin Fowler の『リファクタリング』は、マイクロリファクタリングの殆どを網羅しているが、動機はコード自体の中に見つけられる問題
- ドメインモデルは極めて広い範囲に渡って変化するため、包括的なカタログにまとめられない
    - 本質的に構造化されていない
    - モデリングと設計には創造性が必要

---
### 深いモデル

- 要件定義書にある名詞と動詞をそのまま使用したような、最初に作られるモデルは表面的で、浅い知識にしか基づかない
- 例：輸送アプリケーションのモデル
    - 最初は「船舶」「コンテナ」といったモデル
    - 次第に「船荷証券」のような、一見明らかでないオブジェクトができあがる
- **深いモデルは、ドメインエキスパートの主要な関心事と、それに最も深く関連した知識に関する明快な表現を提供するが、一方で、ドメインの表面的な側面は捨て去る**

---
### 深いモデル / しなやかな設計

- リファクタリングによって、それぞれの変更が新しい理解を反映していれば、最もよく変更される場所が柔軟になる -> しなやかな設計
